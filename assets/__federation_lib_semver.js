const y="[0-9A-Za-z-]+",L=`(?:\\+(${y}(?:\\.${y})*))`,R="0|[1-9]\\d*",T="[0-9]+",q="\\d*[a-zA-Z-][a-zA-Z0-9-]*",z=`(?:${T}|${q})`,F=`(?:-?(${z}(?:\\.${z})*))`,Z=`(?:${R}|${q})`,B=`(?:-(${Z}(?:\\.${Z})*))`,V=`${R}|x|X|\\*`,o=`[v=\\s]*(${V})(?:\\.(${V})(?:\\.(${V})(?:${B})?${L}?)?)?`,J=`^\\s*(${o})\\s+-\\s+(${o})\\s*$`,K=`(${T})\\.(${T})\\.(${T})`,Q=`[v=\\s]*${K}${F}?${L}?`,_="((?:<|>)?=?)",U=`(\\s*)${_}\\s*(${Q}|${o})`,G="(?:~>?)",W=`(\\s*)${G}\\s+`,H="(?:\\^)",Y=`(\\s*)${H}\\s+`,g="(<|>)?=?\\s*\\*",h=`^${H}${o}$`,M=`(${R})\\.(${R})\\.(${R})`,A=`v?${M}${B}?${L}?`,j=`^${G}${o}$`,m=`^${_}\\s*${o}$`,ee=`^${_}\\s*(${A})$|^$`,ne="^\\s*>=\\s*0.0.0\\s*$";function p(e){return new RegExp(e)}function u(e){return!e||e.toLowerCase()==="x"||e==="*"}function N(...e){return s=>e.reduce((t,n)=>n(t),s)}function O(e){return e.match(p(ee))}function S(e,s,t,n){const r=`${e}.${s}.${t}`;return n?`${r}-${n}`:r}function re(e){return e.replace(p(J),(s,t,n,r,$,i,c,f,l,a,x,d)=>(u(n)?t="":u(r)?t=`>=${n}.0.0`:u($)?t=`>=${n}.${r}.0`:t=`>=${t}`,u(l)?f="":u(a)?f=`<${+l+1}.0.0-0`:u(x)?f=`<${l}.${+a+1}.0-0`:d?f=`<=${l}.${a}.${x}-${d}`:f=`<=${f}`,`${t} ${f}`.trim()))}function se(e){return e.replace(p(U),"$1$2$3")}function $e(e){return e.replace(p(W),"$1~")}function te(e){return e.replace(p(Y),"$1^")}function ie(e){return e.trim().split(/\s+/).map(s=>s.replace(p(h),(t,n,r,$,i)=>u(n)?"":u(r)?`>=${n}.0.0 <${+n+1}.0.0-0`:u($)?n==="0"?`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:`>=${n}.${r}.0 <${+n+1}.0.0-0`:i?n==="0"?r==="0"?`>=${n}.${r}.${$}-${i} <${n}.${r}.${+$+1}-0`:`>=${n}.${r}.${$}-${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${$}-${i} <${+n+1}.0.0-0`:n==="0"?r==="0"?`>=${n}.${r}.${$} <${n}.${r}.${+$+1}-0`:`>=${n}.${r}.${$} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${$} <${+n+1}.0.0-0`)).join(" ")}function ue(e){return e.trim().split(/\s+/).map(s=>s.replace(p(j),(t,n,r,$,i)=>u(n)?"":u(r)?`>=${n}.0.0 <${+n+1}.0.0-0`:u($)?`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?`>=${n}.${r}.${$}-${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${$} <${n}.${+r+1}.0-0`)).join(" ")}function ce(e){return e.split(/\s+/).map(s=>s.trim().replace(p(m),(t,n,r,$,i,c)=>{const f=u(r),l=f||u($),a=l||u(i);return n==="="&&a&&(n=""),c="",f?n===">"||n==="<"?"<0.0.0-0":"*":n&&a?(l&&($=0),i=0,n===">"?(n=">=",l?(r=+r+1,$=0,i=0):($=+$+1,i=0)):n==="<="&&(n="<",l?r=+r+1:$=+$+1),n==="<"&&(c="-0"),`${n+r}.${$}.${i}${c}`):l?`>=${r}.0.0${c} <${+r+1}.0.0-0`:a?`>=${r}.${$}.0${c} <${r}.${+$+1}.0-0`:t})).join(" ")}function fe(e){return e.trim().replace(p(g),"")}function le(e){return e.trim().replace(p(ne),"")}function I(e,s){return e=+e||e,s=+s||s,e>s?1:e===s?0:-1}function ae(e,s){const{preRelease:t}=e,{preRelease:n}=s;if(t===void 0&&!!n)return 1;if(!!t&&n===void 0)return-1;if(t===void 0&&n===void 0)return 0;for(let r=0,$=t.length;r<=$;r++){const i=t[r],c=n[r];if(i!==c)return i===void 0&&c===void 0?0:i?c?I(i,c):-1:1}return 0}function P(e,s){return I(e.major,s.major)||I(e.minor,s.minor)||I(e.patch,s.patch)||ae(e,s)}function X(e,s){return e.version===s.version}function pe(e,s){switch(e.operator){case"":case"=":return X(e,s);case">":return P(e,s)<0;case">=":return X(e,s)||P(e,s)<0;case"<":return P(e,s)>0;case"<=":return X(e,s)||P(e,s)>0;case void 0:return!0;default:return!1}}function de(e){return N(ie,ue,ce,fe)(e)}function oe(e){return N(re,se,$e,te)(e.trim()).split(/\s+/).join(" ")}function Re(e,s){if(!e)return!1;const r=oe(s).split(" ").map(d=>de(d)).join(" ").split(/\s+/).map(d=>le(d)),$=O(e);if(!$)return!1;const[,i,,c,f,l,a]=$,x={operator:i,version:S(c,f,l,a),major:c,minor:f,patch:l,preRelease:a==null?void 0:a.split(".")};for(const d of r){const E=O(d);if(!E)return!1;const[,k,,b,v,w,C]=E,D={operator:k,version:S(b,v,w,C),major:b,minor:v,patch:w,preRelease:C==null?void 0:C.split(".")};if(!pe(D,x))return!1}return!0}export{Re as satisfy};
